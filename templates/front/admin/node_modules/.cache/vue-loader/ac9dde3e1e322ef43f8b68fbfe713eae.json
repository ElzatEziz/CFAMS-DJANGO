{"remainingRequest":"/Applications/Develop/CFAMS-Django-Vue/templates/front/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Applications/Develop/CFAMS-Django-Vue/templates/front/admin/src/views/login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Applications/Develop/CFAMS-Django-Vue/templates/front/admin/src/views/login.vue","mtime":1713897700450},{"path":"/Applications/Develop/CFAMS-Django-Vue/templates/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1713897695165},{"path":"/Applications/Develop/CFAMS-Django-Vue/templates/front/admin/node_modules/babel-loader/lib/index.js","mtime":1713897694753},{"path":"/Applications/Develop/CFAMS-Django-Vue/templates/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1713897695165},{"path":"/Applications/Develop/CFAMS-Django-Vue/templates/front/admin/node_modules/vue-loader/lib/index.js","mtime":1713897700024}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgbWVudSBmcm9tICJAL3V0aWxzL21lbnUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBydWxlc0Zvcm06IHsKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHJvbGU6ICIiLAogICAgICAgIGNvZGU6ICcnLAogICAgICB9LAogICAgICBtZW51czogW10sCiAgICAgIHRhYmxlTmFtZTogIiIsCiAgICAgIGNvZGVzOiBbewogICAgICAgIG51bTogMSwKICAgICAgICBjb2xvcjogJyMwMDAnLAogICAgICAgIHJvdGF0ZTogJzEwZGVnJywKICAgICAgICBzaXplOiAnMTZweCcKICAgICAgfSx7CiAgICAgICAgbnVtOiAyLAogICAgICAgIGNvbG9yOiAnIzAwMCcsCiAgICAgICAgcm90YXRlOiAnMTBkZWcnLAogICAgICAgIHNpemU6ICcxNnB4JwogICAgICB9LHsKICAgICAgICBudW06IDMsCiAgICAgICAgY29sb3I6ICcjMDAwJywKICAgICAgICByb3RhdGU6ICcxMGRlZycsCiAgICAgICAgc2l6ZTogJzE2cHgnCiAgICAgIH0sewogICAgICAgIG51bTogNCwKICAgICAgICBjb2xvcjogJyMwMDAnLAogICAgICAgIHJvdGF0ZTogJzEwZGVnJywKICAgICAgICBzaXplOiAnMTZweCcKICAgICAgfV0sCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKCWxldCBtZW51cyA9IG1lbnUubGlzdCgpOwoJdGhpcy5tZW51cyA9IG1lbnVzOwoJfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbigpIHsKICAgICAgaWYgKCF0aGlzLnJ1bGVzRm9ybS51c2VybmFtZSkgewogICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fovpPlhaXnlKjmiLflkI0iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLnJ1bGVzRm9ybS5wYXNzd29yZCkgewogICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor7fovpPlhaXlr4bnoIEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCF0aGlzLnJ1bGVzRm9ybS5yb2xlKSB7CiAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuivt+mAieaLqeinkuiJsiIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgbWVudXMgPSB0aGlzLm1lbnVzOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKG1lbnVzW2ldLnJvbGVOYW1lID09IHRoaXMucnVsZXNGb3JtLnJvbGUpIHsKICAgICAgICAgIHRoaXMudGFibGVOYW1lID0gbWVudXNbaV0udGFibGVOYW1lOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6IGAke3RoaXMudGFibGVOYW1lfS9sb2dpbj91c2VybmFtZT0ke3RoaXMucnVsZXNGb3JtLnVzZXJuYW1lfSZwYXNzd29yZD0ke3RoaXMucnVsZXNGb3JtLnBhc3N3b3JkfWAsCiAgICAgICAgbWV0aG9kOiAicG9zdCIKICAgICAgfSkudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgICAgICB0aGlzLiRzdG9yYWdlLnNldCgiVG9rZW4iLCBkYXRhLnRva2VuKTsKICAgICAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCJhdmF0YXIiLGRhdGEuYXZhdGFyKQogICAgICAgICAgdGhpcy4kc3RvcmFnZS5zZXQoInJvbGUiLCB0aGlzLnJ1bGVzRm9ybS5yb2xlKTsKICAgICAgICAgIHRoaXMuJHN0b3JhZ2Uuc2V0KCJzZXNzaW9uVGFibGUiLCB0aGlzLnRhYmxlTmFtZSk7CiAgICAgICAgICB0aGlzLiRzdG9yYWdlLnNldCgiYWRtaW5OYW1lIiwgdGhpcy5ydWxlc0Zvcm0udXNlcm5hbWUpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAiL2luZGV4LyIgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0KfTsK"},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n      <div class=\"container loginIn\">\n      <div :class=\"2 == 1 ? 'left' : 2 == 2 ? 'left center' : 'left right'\">\n        <el-form class=\"login-form\" label-position=\"left\" :label-width=\"1 == 3 || 1 == 2 ? '30px': '0px'\">\n          <div class=\"title-container\"><h3 class=\"title\">高校固定资产管理系统</h3></div>\n          <el-form-item :label=\"1 == 3 ? '用户名' : ''\" :class=\"'style'+1\">\n            <el-input placeholder=\"请输入用户名\" name=\"username\" type=\"text\" v-model=\"rulesForm.username\"/>\n          </el-form-item>\n          <el-form-item :label=\"1 == 3 ? '密码' : ''\" :class=\"'style'+1\">\n            <el-input placeholder=\"请输入密码\" name=\"password\" type=\"password\" v-model=\"rulesForm.password\" />\n          </el-form-item>\n          <el-form-item prop=\"loginInRole\" class=\"role\" style=\"display: flex;align-items: center;\">\n            <el-radio\n              v-for=\"item in menus\"\n\t            v-if=\"item.hasBackLogin=='是'\"\n              v-bind:key=\"item.roleName\"\n              v-model=\"rulesForm.role\"\n              :label=\"item.roleName\"\n            >{{item.roleName}}</el-radio>\n          </el-form-item>\n          <el-button type=\"primary\" @click=\"login()\" class=\"loginInBt\">{{'1' == '1' ? '登录' : 'login'}}</el-button>\n        </el-form>\n      </div>\n\n    </div>\n  </div>\n</template>\n<script>\n\nimport menu from \"@/utils/menu\";\n\nexport default {\n  data() {\n    return {\n      rulesForm: {\n        username: \"\",\n        password: \"\",\n        role: \"\",\n        code: '',\n      },\n      menus: [],\n      tableName: \"\",\n      codes: [{\n        num: 1,\n        color: '#000',\n        rotate: '10deg',\n        size: '16px'\n      },{\n        num: 2,\n        color: '#000',\n        rotate: '10deg',\n        size: '16px'\n      },{\n        num: 3,\n        color: '#000',\n        rotate: '10deg',\n        size: '16px'\n      },{\n        num: 4,\n        color: '#000',\n        rotate: '10deg',\n        size: '16px'\n      }],\n    };\n  },\n  mounted() {\n\tlet menus = menu.list();\n\tthis.menus = menus;\n\t},\n  methods: {\n    login() {\n      if (!this.rulesForm.username) {\n         this.$message.error(\"请输入用户名\");\n        return;\n      }\n      if (!this.rulesForm.password) {\n         this.$message.error(\"请输入密码\");\n        return;\n      }\n      if (!this.rulesForm.role) {\n         this.$message.error(\"请选择角色\");\n        return;\n      }\n      let menus = this.menus;\n      for (let i = 0; i < menus.length; i++) {\n        if (menus[i].roleName == this.rulesForm.role) {\n          this.tableName = menus[i].tableName;\n        }\n      }\n      this.$http({\n        url: `${this.tableName}/login?username=${this.rulesForm.username}&password=${this.rulesForm.password}`,\n        method: \"post\"\n      }).then(({ data }) => {\n        if (data && data.code === 0) {\n          console.log(data)\n          this.$storage.set(\"Token\", data.token);\n          this.$storage.set(\"avatar\",data.avatar)\n          this.$storage.set(\"role\", this.rulesForm.role);\n          this.$storage.set(\"sessionTable\", this.tableName);\n          this.$storage.set(\"adminName\", this.rulesForm.username);\n          this.$router.replace({ path: \"/index/\" });\n        } else {\n          this.$message.error(data.msg);\n        }\n      });\n    },\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.loginIn {\n  min-height: 100vh;\n  position: relative;\n  background-repeat: no-repeat;\n  background-position: center center;\n  background-size: cover;\n  background-image: url(../assets/img/bg.jpg);\n\n\n  .loginInBt {\n    width: 100%;\n      border: none;\n      border-radius: 5px;\n      background-color: rgba(255, 255, 255, 0.3); // 按钮背景透明\n      color: #FFF; // 白色文字\n      line-height: 40px; // 增加行高\n      margin-top: 20px; // 顶部间距\n\n      &:hover {\n        background-color: rgba(255, 255, 255, 0.5); // 悬浮时背景更明亮\n      }\n    }\n\n  .left {\n    left: 0;\n    top: 0;\n    box-sizing: border-box;\n    width: 400px;\n    height: 500px;\n    padding: 0 ;\n    border-radius: 30px;\n    background: rgba(255, 255, 255, 0.2); // 透明背景\n    backdrop-filter: blur(5px); // 模糊效果\n    border: 1px solid rgba(255, 255, 255, 0.3); // 边框增加亮度\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); // 细微阴影效果\n    transition: all 0.3s ease;\n\n    .login-form{\n      position: relative;\n      background-color: transparent;\n      width: 100%;\n      right: inherit;\n      padding: 4;\n      box-sizing: border-box;\n      display: flex;\n      justify-content: center;\n      flex-direction: column;\n    }\n\n    .title-container {\n      text-align: center;\n      font-size: 24px;\n      margin-bottom: 2rem;\n      color: #FFF; // 白色标题\n\n      .title {\n        width: 100%;\n        line-height: 30px;\n        padding: 0;\n        color: rgb(0, 0, 0);\n        margin-bottom: 2rem;\n        color: #FFF; // 白色标题\n        font-size: 24px;\n        border-radius: 0;\n        border-width: 0;\n        border-style: solid;\n        border-color: rgba(0,0,0,.3);\n        background-color: rgba(0,0,0,0);\n        box-shadow: 0 0 6px rgba(0,0,0,0);\n      }\n    }\n\n    .el-form-item {\n      margin-bottom: 1rem;\n\n       .el-form-item__content {\n        line-height: initial;\n       \n      }\n      \n    .el-radio__label {\n    width: auto;\n    height: 14px;\n    line-height: 14px;\n    margin: 0;\n    padding: 0 0 0 10px;\n    color: #fff;\n    font-size: 14px;\n    border-radius: 0;\n    border-width: 0;\n    border-style: solid;\n    border-color: rgba(255, 255, 255, 0);\n    background-color: rgba(255, 255, 255, 0);\n    box-shadow: 0 0 6px rgba(255,0,0,0);\n    text-align: left;\n  }\n    .el-radio.is-checked .el-radio__label {\n    width: auto;\n    height: 14px;\n    line-height: 14px;\n    margin: 0;\n    padding: 0 0 0 10px;\n    color: rgba(245, 182, 27, 1);\n    font-size: 14px;\n    border-radius: 0;\n    border-width: 0;\n    border-style: solid;\n    border-color: rgba(255, 255, 255, 0);\n    background-color: rgba(255, 255, 255, 0);\n    box-shadow: 0 0 6px rgba(255,0,0,0);\n    text-align: left;\n  }\n    .el-radio__inner {\n    width: 14px;\n    height: 14px;\n    margin: 0;\n    padding: 0;\n    border-radius: 100%;\n    border-width: 1px;\n    border-style: solid;\n    border-color: #dcdfe6;\n    background-color: rgba(255, 255, 255, 1);\n    box-shadow: 0 0 6px rgba(255,0,0,0);\n  }\n    .el-radio.is-checked .el-radio__inner {\n    width: 14px;\n    height: 14px;\n    margin: 0;\n    padding: 0;\n    border-radius: 100%;\n    border-width: 1.5px;\n    border-style: solid;\n    border-color: rgba(255, 255, 255, 1);\n    background-color: rgba(245, 182, 27, 1);\n    box-shadow: 0 0 6px rgba(255,0,0,0);\n  }\n  }\n  }\n\n  .center {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate3d(-50%,-50%,0);\n  }\n\n  .el-form-item__label {\n\twidth: 50px;\n\theight: 30px;\n\tline-height: 30px;\n\tmargin: 0;\n\tpadding: 1;\n\tcolor: rgba(255, 255, 255, 1);\n\tfont-size: 14px;\n\tborder-radius: 0;\n\tborder-width: 0;\n\tborder-style: solid;\n\tborder-color: rgba(0,0,0,0);\n\tbackground-color: rgba(0,0,0,0);\n\tbox-shadow: 0 0 6px rgba(0,0,0,0);\n  }\n\n  .role {\n     .el-form-item__label {\n      width: 56px ;\n      height: 38px;\n      line-height: 38px;\n      margin: 0;\n      padding: 0;\n      color: rgba(255, 255, 255, 1);\n      font-size: 14px;\n      border-radius: 0;\n      border-width: 0;\n      border-style: solid;\n      border-color: rgba(64, 158, 255, 1);\n      background-color: rgba(255, 255, 255, 0);\n      box-shadow: 0 0 6px rgba(255,0,0,0);\n      text-align: left;\n    }\n\n     .el-radio {\n      margin-right: 12px;\n    }\n  }\n}\n</style>\n"]}]}